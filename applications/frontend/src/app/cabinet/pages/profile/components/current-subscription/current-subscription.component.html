<div class="border border-solid border-white rounded-xl p-4 mt-2 mb-4 relative">
  @if (loading) {
    <tui-loader></tui-loader>
  } @else {
    @if (_subscription.subscription$ | async; as subscription) {
      <p class="text-2xl">
        <span class="font-bold">
          @switch (subscription.type) {
            @case ('companyBase') {
              Базовая для бизнеса
            }
            @case ('companyPremium') {
              Премиум для бизнеса
            }
            @case ('privateBase') {
              Базовая
            }
            @case ('privateStudent') {
              Студенческая
            }
          }
        </span>

        <span>
          @switch (subscription.period) {
            @case ('month') {
              (месячная)
            }
            @case ('year') {
              (годовая)
            }
          }
        </span>

      </p>
      <div class="text-xl"> По подписке: {{ subscription.cupsAvailable }} стаканов </div>
      <div class="text-xl"> В использовании: {{ subscription.cupsCurrent }} стаканов </div>
      <button appearance="primary" tuiButton type="button" size="s" class="sm:!absolute sm:right-4 sm:bottom-4" (click)="changeSubscription()">
        Изменить подписку
      </button>
    } @else {
      <div class="text-2xl"> Подписка отсутствует </div>
      <button appearance="primary" tuiButton type="button" size="s" class="sm:!absolute sm:right-4 sm:bottom-4" (click)="changeSubscription()">
        Установить подписку
      </button>
    }
  }
</div>
